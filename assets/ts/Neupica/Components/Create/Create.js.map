{"version":3,"file":"Create.js","sourceRoot":"","sources":["Create.ts"],"names":[],"mappings":"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","sourcesContent":["import { Storage } from \"../../Console/Storage.js\"\r\nimport { Found } from \"../Found/Found.js\"\r\nimport { resizeObserver, intersectionObserver } from \"../../../Common/Updater.js\"\r\n// import { Native } from \"../Native/Native\"\r\n\r\nexport function makeId(length: number): string {\r\n    let result = \"\"\r\n\r\n    let characters = \"\"\r\n    characters += \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\r\n    characters += \"abcdefghijklmnopqrstuvwxyz\"\r\n    characters += \"0123456789\"\r\n\r\n    let charactersLength = characters.length\r\n\r\n    for (let i = 0; i < length; i++) {\r\n        result += characters.charAt(\r\n            Math.floor(Math.random() * charactersLength)\r\n        )\r\n    }\r\n\r\n    return result\r\n}\r\n\r\nexport interface UElement extends HTMLElement {\r\n    addChild: (child: HTMLElement) => void\r\n}\r\n\r\nexport interface UDivElement extends HTMLDivElement {\r\n    addChild: (child: HTMLElement) => void\r\n}\r\n\r\nexport interface UImageElement extends HTMLImageElement {\r\n    addChild: (child: HTMLElement) => void\r\n}\r\n\r\nexport interface UInputElement extends HTMLInputElement {\r\n    addChild: (child: HTMLElement) => void\r\n}\r\n\r\ndeclare global {\r\n    interface Window {\r\n        Index: Storage\r\n    }\r\n}\r\n\r\n// @ts-ignore\r\n// interface HTMLElement extends HTMLElement {\r\n//     addChild: (child: Found) => void\r\n//\r\n//     // appendChild(cover: UDivElement): void\r\n// }\r\n\r\n\r\nfunction attachFunction(element: HTMLElement) {\r\n    // @ts-ignore\r\n    element.addChild = function (child: Found) {\r\n        try {\r\n            // console.log(child)\r\n            if (child.hasOwnProperty(\"cover\")) {\r\n                // console.log(\"%chas Cover\", \"font-weight: bold; color: #66dfef\")\r\n                element.appendChild(child.cover)\r\n            } else if (child.hasOwnProperty(\"element\")) {\r\n                // console.log(\r\n                //     \"%cno Cover -> try Element\",\r\n                //     \"font-weight: bold; color: red\"\r\n                // )\r\n                element.appendChild(child.element)\r\n            } else {\r\n                // console.log(\r\n                //     \"%cno Element -> patching just\",\r\n                //     \"font-weight: bold; color: brown\"\r\n                // )\r\n                element.appendChild(child)\r\n            }\r\n        } catch (e) {\r\n            console.error(e)\r\n        }\r\n    }\r\n    // element.removeChild = function(child) {\r\n    //     // console.log('removeChild', element)\r\n    //     try {\r\n    //         element.removeChild(child)\r\n    //     } catch (e) {\r\n    //         console.error(e)\r\n    //     }\r\n    // }\r\n\r\n    return element\r\n}\r\n\r\nfunction attachToCover(element: HTMLDivElement): UDivElement {\r\n    return <UDivElement>attachFunction(element)\r\n}\r\n\r\nlet NeuMode = false\r\nlet Indexing = true\r\nlet Covering = true\r\n\r\nexport let Bounding = 'Bounding'\r\nexport let Cover =  'Cover'\r\n\r\nBounding = \"NeuBound\"\r\nCover = \"NeuCover\"\r\n\r\nBounding = \"_\"\r\nCover = \"C\"\r\n\r\n\r\nfunction newCreateElement(tagName: string) {\r\n    let element =  document.createElement(tagName)\r\n    resizeObserver.observe(element)\r\n    intersectionObserver.observe(element)\r\n    return element\r\n}\r\n\r\nfunction camelCaseToSnakeCase(text: string): string {\r\n    let original = text\r\n    let upper = text.toUpperCase()\r\n    let converted = \"\"\r\n\r\n    for (let i = 0; i < original.length; i++) {\r\n        let originalLetter = original[i]\r\n        let upperLetter = upper[i]\r\n\r\n        if (i == 0) {\r\n            converted += originalLetter.toLowerCase()\r\n        } else if (originalLetter != upperLetter) {\r\n            converted += originalLetter\r\n        } else {\r\n            converted += '_'\r\n            converted += originalLetter.toLowerCase()\r\n        }\r\n    }\r\n    return converted\r\n}\r\n\r\nexport function createCover(name: string): UDivElement {\r\n    // let element: HTMLDivElement = newCreateElement(\"div\")\r\n    // console.log(name)\r\n    if (name === \"\") {\r\n        name = 'neupica_cover'\r\n    }\r\n    if (window.mode === 'shipping') {\r\n        name = 'nc'\r\n    }\r\n    let element: HTMLDivElement = newCreateElement(camelCaseToSnakeCase(name)) as HTMLDivElement\r\n    let Uelement: UDivElement = attachFunction(element) as UDivElement\r\n\r\n    if (NeuMode) {\r\n        Uelement.id = name + \"-\" + makeId(6)\r\n        Uelement.setAttribute(\"name\", name)\r\n        Uelement.classList.add(name)\r\n    }\r\n    if (Covering) {\r\n        Uelement.classList.add(Cover)\r\n    } else {\r\n        Uelement.style.display = 'contents'\r\n    }\r\n    if (Indexing) {\r\n        window.Index.setItem(Uelement.id, Uelement)\r\n    }\r\n\r\n    return Uelement\r\n}\r\n\r\nexport function createModal(): UDivElement {\r\n    let element: HTMLDivElement = newCreateElement(\"div\") as HTMLDivElement\r\n    let Uelement: UDivElement = attachFunction(element) as UDivElement\r\n\r\n    if (NeuMode) {\r\n        Uelement.id = \"NeuModal-\" + makeId(6)\r\n        Uelement.classList.add(\"NeuModal\")\r\n    }\r\n    Uelement.classList.add(Bounding)\r\n    if (Indexing) {\r\n        window.Index.setItem(Uelement.id, Uelement)\r\n    }\r\n\r\n    return Uelement\r\n}\r\n\r\nexport function createDiv(): UDivElement {\r\n    let element: HTMLDivElement = newCreateElement('n') as HTMLDivElement\r\n    let Uelement: UDivElement = attachFunction(element) as UDivElement\r\n\r\n    if (NeuMode) {\r\n        Uelement.id = \"NeuDiv-\" + makeId(6)\r\n        Uelement.classList.add(\"NeuDiv\")\r\n    }\r\n    Uelement.classList.add(Bounding)\r\n    if (Indexing) {\r\n        window.Index.setItem(Uelement.id, Uelement)\r\n    }\r\n\r\n    return Uelement\r\n}\r\n\r\nexport function createImg(): UImageElement {\r\n    let element: HTMLImageElement = newCreateElement(\"img\") as HTMLImageElement\r\n    let Uelement: UImageElement = attachFunction(element) as UImageElement\r\n\r\n    if (NeuMode) {\r\n        Uelement.id = \"NeuImg-\" + makeId(6)\r\n        Uelement.classList.add(\"NeuImg\")\r\n    }\r\n    Uelement.classList.add(Bounding)\r\n    if (Indexing) {\r\n        window.Index.setItem(Uelement.id, Uelement)\r\n    }\r\n\r\n    return Uelement\r\n}\r\n\r\nexport function createInput(): UInputElement {\r\n    let element: HTMLInputElement = newCreateElement(\"input\") as HTMLInputElement\r\n    let Uelement: UInputElement = attachFunction(element) as UInputElement\r\n\r\n    if (NeuMode) {\r\n        Uelement.id = \"NeuInput-\" + makeId(6)\r\n        Uelement.classList.add(\"NeuInput\")\r\n    }\r\n    Uelement.classList.add(Bounding)\r\n    if (Indexing) {\r\n        window.Index.setItem(Uelement.id, Uelement)\r\n    }\r\n\r\n    return Uelement\r\n}\r\n\r\nexport function createCustom(tag: string): UElement {\r\n    let element: HTMLElement = newCreateElement(tag) as HTMLElement\r\n    let Uelement: UElement = attachFunction(element) as UElement\r\n\r\n    if (NeuMode) {\r\n        Uelement.id = tag + \"-\" + makeId(6)\r\n        Uelement.classList.add(tag)\r\n        Uelement.setAttribute(\"name\", tag)\r\n    }\r\n    if (Indexing) {\r\n        window.Index.setItem(Uelement.id, Uelement)\r\n    }\r\n\r\n    return Uelement\r\n}\r\n\r\n\r\nexport function createLayout(layoutname: string): UDivElement {\r\n    let element: HTMLDivElement = newCreateElement(\"div\") as HTMLDivElement\r\n    let Uelement: UDivElement = attachFunction(element) as UDivElement\r\n\r\n    if (NeuMode) {\r\n        Uelement.id = layoutname + \"-\" + makeId(6)\r\n        Uelement.classList.add(layoutname)\r\n        Uelement.setAttribute(\"name\", layoutname)\r\n    }\r\n    if (Indexing) {\r\n        window.Index.setItem(Uelement.id, Uelement)\r\n    }\r\n\r\n    return Uelement\r\n}\r\n\r\nexport function createUnique(): string {\r\n    return makeId(12)\r\n}\r\n\r\n\r\n// export function createElement(tagName) {\r\n//     let element = DCcreateElement(tagName)\r\n//     element.id = \"NeuElem-\" + tagName + \"-\" + makeId(6)\r\n//     window.Index.setItem(element.id, element)\r\n\r\n//     return element\r\n// }\r\n"]}